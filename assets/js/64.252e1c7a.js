(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{552:function(s,n,t){"use strict";t.r(n);var a=t(0),e=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"instanceof"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#instanceof"}},[s._v("#")]),s._v(" instanceof")]),s._v(" "),n("p",[n("code",[s._v("instanceof")]),s._v(" 运算符用于检测构造函数的 "),n("code",[s._v("prototype")]),s._v(" 属性是否出现在某个实例对象的原型链上")]),s._v(" "),n("p",[s._v("使用如下：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("object "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("instanceof")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("constructor")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("code",[s._v("object")]),s._v("为实例对象，"),n("code",[s._v("constructor")]),s._v("为构造函数")]),s._v(" "),n("p",[s._v("实现"),n("code",[s._v("instanceof")])]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v('     function myInstanceof(left,right){\n\t\t//判断基础类型和null\n      if(typeof left !="object"||left==null) return false;\n      let proto=Object.getPrototypeOf(left);\n      if(true){\n        if(proto===null) return false;\n        if(proto===right.prototype) return true;\n        proto=Object.getPrototypeOf(proto);\n      }\n     }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"new的实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new的实现"}},[s._v("#")]),s._v(" new的实现")]),s._v(" "),n("ul",[n("li",[s._v("创建一个新的对象"),n("code",[s._v("obj")])]),s._v(" "),n("li",[s._v("将对象与构建函数通过原型链连接起来")]),s._v(" "),n("li",[s._v("将构建函数中的"),n("code",[s._v("this")]),s._v("绑定到新建的对象"),n("code",[s._v("obj")]),s._v("上")]),s._v(" "),n("li",[s._v("根据构建函数返回类型作判断，如果是原始值则被忽略，如果是返回对象，需要正常处理")])]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v(" function newFun(Fun, ...arg) {\n        const obj = {};\n        obj.__proto__ = Fun.prototype;\n        let result = Fun.call(obj, args);\n        return result instanceof Object ? result : obj;\n      }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"深拷贝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#深拷贝"}},[s._v("#")]),s._v(" 深拷贝")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" obj2"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("递归实现")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v('      function deepClone(obj, map = new Map()) {\n        if (obj === null) return obj;\n \t\tif (obj instanceof Date) return new Date(obj);\n  \t\tif (obj instanceof RegExp) return new RegExp(obj);\n        if (typeof obj !== "object")  return obj;\n        if (map.get(obj)) return map.get(obj);\n        let cloneObj = Array.isArray(obj) ? [] : {};\n        map.set(obj, cloneObj);\n        for (const key in obj) {\n          if (Object.hasOwnProperty(key)) {\n            const element = obj[key];\n            cloneObj[key] = deepClone(obj[key], map);\n          }\n        }\n        return obj;\n      }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"ajax实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ajax实现"}},[s._v("#")]),s._v(" ajax实现")]),s._v(" "),n("p",[s._v("实现 "),n("code",[s._v("Ajax")]),s._v("异步交互需要服务器逻辑进行配合，需要完成以下步骤：")]),s._v(" "),n("ul",[n("li",[s._v("创建 "),n("code",[s._v("Ajax")]),s._v("的核心对象 "),n("code",[s._v("XMLHttpRequest")]),s._v("对象")]),s._v(" "),n("li",[s._v("通过 "),n("code",[s._v("XMLHttpRequest")]),s._v(" 对象的 "),n("code",[s._v("open()")]),s._v(" 方法与服务端建立连接")]),s._v(" "),n("li",[s._v("构建请求所需的数据内容，并通过"),n("code",[s._v("XMLHttpRequest")]),s._v(" 对象的 "),n("code",[s._v("send()")]),s._v(" 方法发送给服务器端")]),s._v(" "),n("li",[s._v("通过 "),n("code",[s._v("XMLHttpRequest")]),s._v(" 对象提供的 "),n("code",[s._v("onreadystatechange")]),s._v(" 事件监听服务器端你的通信状态")]),s._v(" "),n("li",[s._v("接受并处理服务端向客户端响应的数据结果")]),s._v(" "),n("li",[s._v("将处理结果更新到 "),n("code",[s._v("HTML")]),s._v("页面中")])]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("//封装一个ajax请求\nfunction myAjax(options) {\n    //创建XMLHttpRequest对象\n    const xhr = new XMLHttpRequest()\n    //初始化参数的内容\n    options = options || {}\n    options.type = (options.type || 'GET').toUpperCase()\n    options.dataType = options.dataType || 'json'\n    const params = options.data\n\n    //发送请求\n    if (options.type === 'GET') {\n        xhr.open('GET', options.url + '?' + params, true)\n        xhr.send(null)\n    } else if (options.type === 'POST') {\n        xhr.open('POST', options.url, true)\n        xhr.send(params)\n\n    //接收请求\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            let status = xhr.status\n            if (status >= 200 && status < 300) {\n                options.success && options.success(xhr.responseText, xhr.responseXML)\n            } else {\n                options.fail && options.fail(status)\n            }\n        }\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("blockquote")])}),[],!1,null,null,null);n.default=e.exports}}]);